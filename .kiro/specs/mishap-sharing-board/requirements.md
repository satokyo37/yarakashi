# Requirements Document

## Introduction

やらかし共有掲示板は、ユーザーが日常生活で経験した失敗やミス（やらかし）を匿名で投稿・共有できるWebアプリケーションです。投稿されたエピソードを通じて、他のユーザーが共感や学びを得られる場を提供し、失敗を前向きに捉える文化を醸成することを目的としています。

## Requirements

### Requirement 1

**User Story:** 投稿者は、恥ずかしい体験やミスを匿名で投稿できると、安心して自分の経験を共有できる

#### Acceptance Criteria

1. WHEN ユーザーが投稿フォームにアクセスする THEN システムは タイトル、本文、カテゴリ、タグの入力フィールドを表示する
2. WHEN ユーザーが必要な情報を入力して投稿ボタンを押す THEN システムは 投稿を匿名で保存し、投稿完了メッセージを表示する
3. WHEN ユーザーが画像を添付する THEN システムは 画像ファイルをアップロードし、投稿と関連付けて保存する
4. IF 必須フィールドが未入力の場合 THEN システムは エラーメッセージを表示し、投稿を受け付けない

### Requirement 2

**User Story:** 閲覧者として、他の人の失敗例を見て学びや共感を得たいので、投稿を簡単に閲覧・検索できる

#### Acceptance Criteria

1. WHEN ユーザーがトップページにアクセスする THEN システムは 投稿一覧を新着順で表示する
2. WHEN ユーザーがソート条件を変更する THEN システムは 指定された順序（新着順・人気順）で投稿を再表示する
3. WHEN ユーザーがキーワードで検索する THEN システムは タイトルと本文からキーワードに一致する投稿を表示する
4. WHEN ユーザーがカテゴリやタグで絞り込む THEN システムは 該当するカテゴリ・タグの投稿のみを表示する

### Requirement 3

**User Story:** 閲覧者として、共感した投稿にリアクションしたいので、共感スタンプを送れる

#### Acceptance Criteria

1. WHEN ユーザーが投稿詳細を表示する THEN システムは 共感スタンプボタン（😅 わかる！、🤝 同じ経験あり、💪 ドンマイ、📚 勉強になった）を表示する
2. WHEN ユーザーが共感スタンプを選択する THEN システムは 該当スタンプの数を1増加させ、スタンプを表示に反映する
3. WHEN ユーザーが同じスタンプを再度押す THEN システムは リアクションを取り消し、カウントを1減少させる
4. WHEN ユーザーが投稿一覧を表示する THEN システムは 各投稿に受け取った共感スタンプの合計数を表示する

### Requirement 4

**User Story:** 管理者として、不適切な投稿を管理したいので、通報機能とコンテンツ管理機能が必要

#### Acceptance Criteria

1. WHEN ユーザーが投稿の通報ボタンを押す THEN システムは 通報理由の選択画面を表示する
2. WHEN ユーザーが通報理由を選択して送信する THEN システムは 通報情報を記録し、管理者に通知する
3. WHEN 管理者が管理画面にアクセスする THEN システムは 通報された投稿の一覧を表示する
4. WHEN 管理者が投稿を削除する THEN システムは 投稿を非表示にし、関連データを削除する

### Requirement 5

**User Story:** ユーザーとして、興味のあるジャンルの投稿を効率的に見つけたいので、カテゴリとタグで整理された投稿を閲覧できる

#### Acceptance Criteria

1. WHEN ユーザーが投稿する THEN システムは 事前定義されたカテゴリ（仕事・日常・旅行・恋愛など）から選択できる
2. WHEN ユーザーがタグを入力する THEN システムは 既存タグの候補を表示し、新規タグの作成も可能にする
3. WHEN ユーザーがカテゴリページにアクセスする THEN システムは 該当カテゴリの投稿のみを表示する
4. WHEN ユーザーがタグをクリックする THEN システムは そのタグが付いた投稿の一覧を表示する

### Requirement 6

**User Story:** ユーザーとして、過去の有用な投稿を再度見つけたいので、検索機能で効率的に情報を探せる

#### Acceptance Criteria

1. WHEN ユーザーが検索ボックスにキーワードを入力する THEN システムは リアルタイムで検索候補を表示する
2. WHEN ユーザーが検索を実行する THEN システムは タイトル・本文・タグから部分一致で検索結果を表示する
3. WHEN ユーザーが複数の検索条件を組み合わせる THEN システムは AND条件で絞り込んだ結果を表示する
4. WHEN 検索結果が0件の場合 THEN システムは 「該当する投稿が見つかりません」メッセージを表示する